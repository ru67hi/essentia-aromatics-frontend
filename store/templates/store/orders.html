

{% extends 'store/base.html' %}

{% block content %}
<div class="container my-5">
  <h2 class="fw-bold mb-4">My Orders</h2>

  {% if orders %}
    <div class="list-group">
      {% for order in orders %}
        <div class="list-group-item d-flex justify-content-between">
          <div>
            <h6 class="fw-bold">Order #{{ order.id }}</h6>
            <small class="text-muted">{{ order.created_at }}</small>
          </div>
          <div class="text-end">
            <p class="mb-1">₹ {{ order.total_amount }}</p>
            <span class="badge bg-success">{{ order.payment_status }}</span>
          </div>
        </div>
      {% endfor %}
    </div>
  {% else %}
    <p>You have not placed any orders yet.</p>
  {% endif %}

  <h2>My Orders</h2>

{% if orders %}
  {% for order in orders %}
    <div class="order-card">
      <p><strong>Order ID:</strong> {{ order.id }}</p>
      <p><strong>Total:</strong> ₹{{ order.total_price }}</p>
      <p><strong>Status:</strong> {{ order.status }}</p>

      <a href="{% url 'track_order' order.id %}" class="btn">Track Order</a>
    </div>
  {% endfor %}
{% else %}
  <p>No orders found.</p>
{% endif %}

</div>
{% endblock %}
